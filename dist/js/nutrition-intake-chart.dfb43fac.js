(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["nutrition-intake-chart"],{2621:function(e,t,a){"use strict";var r=a("e5ad"),s=a.n(r);s.a},5086:function(e,t,a){"use strict";var r=a("7261"),s=a.n(r);s.a},7261:function(e,t,a){},"9dd1":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"chart-container"},[a("DateController",{attrs:{datePeriodOfChart:e.$store.getters.datePeriodOfChart},on:{toPreviousWeek:function(t){e.$store.commit("previousWeek"),e.fillData()},toNextWeek:function(t){e.$store.commit("nextWeek"),e.fillData()}}}),a("div",{staticClass:"chart"},[a("Chart",{attrs:{height:310,"chart-data":e.chartdata,options:e.options}}),a("span",{staticClass:"y-scalelabel"},[e._v("未攝取營養(份)")]),e.isShowMessage?a("Message"):e._e()],1),a("section",{staticClass:"labels"},e._l(e.chartdata.datasets,(function(t){return a("div",{key:t.label,staticClass:"label-wrapper"},[a("ChartLabel",{attrs:{title:t.label,type:t.key},on:{click:function(a){return e.filterData(t.key)}}})],1)})),0)],1)},s=[],i=(a("7db0"),a("a15b"),a("07ac"),a("ac1f"),a("1276"),a("ade3")),o=a("5530"),n=(a("96cf"),a("1da1")),c=a("fd3b"),l=a("5b7f"),d=a("a063"),u=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"label",class:[e.type],on:{click:function(t){return e.$emit("click")}}},[e._v(e._s(e.title))])},y=[],b={props:{title:{type:String,required:!0},type:{type:String,required:!0}}},h=b,f=(a("2621"),a("2877")),g=Object(f["a"])(h,u,y,!1,null,"f8794b68",null),p=g.exports,k={components:{DateController:c["a"],Chart:l["a"],Message:d["a"],ChartLabel:p},data:function(){return{isShowMessage:!1,isShowBarData:{proteins:!0,nuts:!0,dairy:!0,vegetables:!0,grains:!0,fruits:!0},chartdata:{labels:this.$store.getters.labelDatesOfChart,datasets:[{type:"bar",label:"全穀雜糧類",key:"grains",backgroundColor:"#CBA368",data:this.$store.getters.dietaryDeficiency.grains},{type:"bar",label:"豆魚蛋肉類",key:"proteins",backgroundColor:"#E97979",data:this.$store.getters.dietaryDeficiency.proteins},{type:"bar",label:"奶品類",key:"dairy",backgroundColor:"#FFC52F",data:this.$store.getters.dietaryDeficiency.dairy},{type:"bar",label:"蔬菜類",key:"vegetables",backgroundColor:"#98D59B",data:this.$store.getters.dietaryDeficiency.vegetables},{type:"bar",label:"水果類",key:"fruits",backgroundColor:"#A171B3",data:this.$store.getters.dietaryDeficiency.fruits},{type:"bar",label:"油脂及堅果種子類",key:"nuts",backgroundColor:"#83A7DD",data:this.$store.getters.dietaryDeficiency.nuts}]},options:{responsive:!0,maintainAspectRatio:!1,legend:{display:!1},scales:{xAxes:[{stacked:!0,ticks:{fontColor:"black"},gridLines:{color:"#ccc",offsetGridLines:!1}}],yAxes:[{stacked:!0,ticks:{stepSize:8,max:this.$store.getters.yAxisMax_nutrition,min:0,fontColor:"black"},gridLines:{color:"#ccc",zeroLineColor:"#ccc"}}]}}}},created:function(){this.checkIsShowNoDataMessage()},methods:{checkIsShowNoDataMessage:function(){this.isShowMessage=!Object.values(this.$store.getters.dietaryDeficiency).find((function(e){return e.find((function(e){return null!==e}))}))},fillData:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("fetchDietaryDeficiency",{user_id:e.$store.getters.userProfile.id,start_date:e.$store.getters.datePeriodOfChart.startDate.split("/").join("-"),end_date:e.$store.getters.datePeriodOfChart.endDate.split("/").join("-")});case 2:e.chartdata={labels:e.$store.getters.labelDatesOfChart,datasets:[{type:"bar",label:"全穀雜糧類",key:"grains",backgroundColor:"#CBA368",data:e.$store.getters.dietaryDeficiency.grains},{type:"bar",label:"豆魚蛋肉類",key:"proteins",backgroundColor:"#E97979",data:e.$store.getters.dietaryDeficiency.proteins},{type:"bar",label:"奶品類",key:"dairy",backgroundColor:"#FFC52F",data:e.$store.getters.dietaryDeficiency.dairy},{type:"bar",label:"蔬菜類",key:"vegetables",backgroundColor:"#98D59B",data:e.$store.getters.dietaryDeficiency.vegetables},{type:"bar",label:"水果類",key:"fruits",backgroundColor:"#A171B3",data:e.$store.getters.dietaryDeficiency.fruits},{type:"bar",label:"油脂及堅果種子類",key:"nuts",backgroundColor:"#83A7DD",data:e.$store.getters.dietaryDeficiency.nuts}]},e.isShowBarData=e.resetIsShowBarData,e.checkIsShowNoDataMessage();case 5:case"end":return t.stop()}}),t)})))()},filterData:function(e){this.isShowBarData=Object(o["a"])(Object(o["a"])({},this.isShowBarData),{},Object(i["a"])({},e,!this.isShowBarData[e])),this.chartdata={labels:this.$store.getters.labelDatesOfChart,datasets:[{type:"bar",label:"全穀雜糧類",key:"grains",backgroundColor:"#CBA368",data:this.isShowBarData.grains?this.$store.getters.dietaryDeficiency.grains:null},{type:"bar",label:"豆魚蛋肉類",key:"proteins",backgroundColor:"#E97979",data:this.isShowBarData.proteins?this.$store.getters.dietaryDeficiency.proteins:null},{type:"bar",label:"奶品類",key:"dairy",backgroundColor:"#FFC52F",data:this.isShowBarData.dairy?this.$store.getters.dietaryDeficiency.dairy:null},{type:"bar",label:"蔬菜類",key:"vegetables",backgroundColor:"#98D59B",data:this.isShowBarData.vegetables?this.$store.getters.dietaryDeficiency.vegetables:null},{type:"bar",label:"水果類",key:"fruits",backgroundColor:"#A171B3",data:this.isShowBarData.fruits?this.$store.getters.dietaryDeficiency.fruits:null},{type:"bar",label:"油脂及堅果種子類",key:"nuts",backgroundColor:"#83A7DD",data:this.isShowBarData.nuts?this.$store.getters.dietaryDeficiency.nuts:null}]}}},computed:{resetIsShowBarData:function(){return{proteins:!0,nuts:!0,dairy:!0,vegetables:!0,grains:!0,fruits:!0}}}},D=k,C=(a("5086"),Object(f["a"])(D,r,s,!1,null,"599211d4",null));t["default"]=C.exports},e5ad:function(e,t,a){}}]);
//# sourceMappingURL=nutrition-intake-chart.dfb43fac.js.map